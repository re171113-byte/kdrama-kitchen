---
interface Props {
  title: string;
  description?: string;
  image?: string;
  // SEO ì¶”ê°€ props
  type?: 'website' | 'article';
  pubDate?: string;
  category?: string;
  tags?: string[];
  slug?: string;
}

const {
  title,
  description = "ë§›ìˆê²Œ ë¨¹ê³ , ë‚ ì”¬í•˜ê²Œ ì‚¬ëŠ” ë¹„ë°€ - ìŠ¬ë¦¼í•œë¼",
  image,
  type = 'website',
  pubDate,
  category,
  tags,
  slug
} = Astro.props;

const siteUrl = 'https://slimhanki-blog.pages.dev';
const canonicalUrl = slug ? `${siteUrl}/posts/${slug}` : new URL(Astro.url.pathname, siteUrl).href;
const ogImage = image || `${siteUrl}/og-default.jpg`;

// í˜„ì¬ ê²½ë¡œë¡œ ë„¤ë¹„ê²Œì´ì…˜ active ìƒíƒœ ê²°ì •
const currentPath = Astro.url.pathname;

// JSON-LD Schema
const jsonLd = type === 'article' ? {
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": title,
  "description": description,
  "image": ogImage,
  "datePublished": pubDate,
  "dateModified": pubDate,
  "author": {
    "@type": "Person",
    "name": "ìŠ¬ë¦¼í•œë¼",
    "url": `${siteUrl}/about`
  },
  "publisher": {
    "@type": "Organization",
    "name": "ìŠ¬ë¦¼í•œë¼",
    "logo": {
      "@type": "ImageObject",
      "url": `${siteUrl}/logo.png`
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": canonicalUrl
  },
  "keywords": tags?.join(', ')
} : {
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "ìŠ¬ë¦¼í•œë¼",
  "description": "ë§›ìˆê²Œ ë¨¹ê³ , ë‚ ì”¬í•˜ê²Œ ì‚¬ëŠ” ë¹„ë°€ - ì €ì¹¼ë¡œë¦¬ ë ˆì‹œí”¼ì™€ ë‹¤ì´ì–´íŠ¸ ì‹ë‹¨ ì •ë³´",
  "url": siteUrl,
  "publisher": {
    "@type": "Organization",
    "name": "ìŠ¬ë¦¼í•œë¼"
  }
};
---

<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="naver-site-verification" content="6321beb598774af499ca1d1f6ae95cb154f31ebd" />
  <meta name="msvalidate.01" content="2F20749EE40E4C5F8634518F3D97506D" />
  <meta name="description" content={description}>

  <!-- Canonical URL -->
  <link rel="canonical" href={canonicalUrl}>

  <!-- Open Graph -->
  <meta property="og:type" content={type}>
  <meta property="og:url" content={canonicalUrl}>
  <meta property="og:title" content={title}>
  <meta property="og:description" content={description}>
  <meta property="og:image" content={ogImage}>
  <meta property="og:site_name" content="ìŠ¬ë¦¼í•œë¼">
  <meta property="og:locale" content="ko_KR">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content={title}>
  <meta name="twitter:description" content={description}>
  <meta name="twitter:image" content={ogImage}>

  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json" set:html={JSON.stringify(jsonLd)} />

  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <title>{title}</title>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N80YWVZHWX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-N80YWVZHWX');
  </script>
  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9510318471579312" crossorigin="anonymous"></script>
  <!-- Kakao SDK -->
  <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.4/kakao.min.js" crossorigin="anonymous"></script>
</head>
<body>
  <!-- ëª¨ë°”ì¼ ì „ìš© ì¶”ì²œ ë°°ë„ˆ (ìµœìƒë‹¨) -->
  <a href="#" class="mobile-recommend" id="mobile-recommend">
    <span class="mobile-recommend-badge">ì¶”ì²œ</span>
    <span class="mobile-recommend-title" id="mobile-recommend-title">ì¶”ì²œ ê¸€ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</span>
    <span class="mobile-recommend-arrow">â€º</span>
  </a>

  <header class="header">
    <div class="header-top">
      <div class="header-top-inner">
        <a href="#" id="random-recommend">
          <span class="label">ì˜¤ëŠ˜ì˜ ì¶”ì²œ</span>
          <span class="arrow">â†’</span>
          <span class="title" id="random-title">ì¶”ì²œ ê¸€ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</span>
        </a>
      </div>
    </div>
    <div class="header-main">
      <a href="/" class="logo">
        <div class="logo-mark"></div>
        <div class="logo-text">
          <span class="logo-title">ìŠ¬ë¦¼í•œë¼</span>
          <span class="logo-subtitle">SlimMeal</span>
        </div>
      </a>
      <div class="search-container">
        <div class="search-box">
          <input type="text" id="search-input" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”" autocomplete="off">
          <span class="search-icon">ğŸ”</span>
        </div>
        <div class="search-results" id="search-results"></div>
      </div>
      <!-- ëª¨ë°”ì¼ ì „ìš© ê²€ìƒ‰ ì•„ì´ì½˜ -->
      <button class="mobile-search-icon-btn" id="mobile-search-icon-btn" aria-label="ê²€ìƒ‰">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"/>
          <path d="m21 21-4.35-4.35"/>
        </svg>
      </button>
    </div>
  </header>

  <!-- ëª¨ë°”ì¼ ê²€ìƒ‰ ì˜¤ë²„ë ˆì´ -->
  <div class="mobile-search-overlay" id="mobile-search-overlay">
    <div class="mobile-search-overlay-inner">
      <div class="mobile-search-input-wrapper">
        <input type="text" class="mobile-search-input" id="mobile-search-input" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
        <svg class="mobile-search-input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"/>
          <path d="m21 21-4.35-4.35"/>
        </svg>
      </div>
      <button class="mobile-search-close-btn" id="mobile-search-close-btn" aria-label="ë‹«ê¸°">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M18 6L6 18M6 6l12 12"/>
        </svg>
      </button>
    </div>
    <div class="mobile-search-tags">
      <span class="mobile-search-tags-label">ì¸ê¸° ê²€ìƒ‰ì–´</span>
      <div class="mobile-search-tags-list">
        <button class="mobile-search-tag" data-query="ë‘ë¶€">ë‘ë¶€</button>
        <button class="mobile-search-tag" data-query="ë‹­ê°€ìŠ´ì‚´">ë‹­ê°€ìŠ´ì‚´</button>
        <button class="mobile-search-tag" data-query="ì˜¤íŠ¸ë°€">ì˜¤íŠ¸ë°€</button>
        <button class="mobile-search-tag" data-query="ìƒëŸ¬ë“œ">ìƒëŸ¬ë“œ</button>
        <button class="mobile-search-tag" data-query="ê°„ì‹">ê°„ì‹</button>
      </div>
    </div>
    <div class="mobile-search-results" id="mobile-search-results"></div>
  </div>
  <div class="mobile-search-backdrop" id="mobile-search-backdrop"></div>

  <nav class="nav-bar">
    <div class="nav-inner">
      <a href="/" class={`nav-item ${currentPath === '/' ? 'active' : ''}`}>ì „ì²´</a>
      <a href="/category/low-cal" class={`nav-item ${currentPath === '/category/low-cal' ? 'active' : ''}`}>ì €ì¹¼ë¡œë¦¬</a>
      <a href="/category/k-diet" class={`nav-item ${currentPath === '/category/k-diet' ? 'active' : ''}`}>K-ë‹¤ì´ì–´íŠ¸</a>
      <a href="/category/protein" class={`nav-item ${currentPath === '/category/protein' ? 'active' : ''}`}>ë‹¨ë°±ì§ˆ</a>
      <a href="/category/quick" class={`nav-item ${currentPath === '/category/quick' ? 'active' : ''}`}>ê°„í¸ì‹</a>
      <a href="/category/mealprep" class={`nav-item ${currentPath === '/category/mealprep' ? 'active' : ''}`}>ë°€í”„ë ™</a>
      <a href="/category/diet-tips" class={`nav-item ${currentPath === '/category/diet-tips' ? 'active' : ''}`}>ë‹¤ì´ì–´íŠ¸ ë°©ë²•</a>
    </div>
  </nav>

  <main>
    <slot />
  </main>

  <!-- ëœë¤ ì¶”ì²œ -->
  <script>
    (async function() {
      try {
        const res = await fetch('/search.json');
        const posts = await res.json();
        const randomPost = posts[Math.floor(Math.random() * posts.length)];
        // ë°ìŠ¤í¬í†± ë²„ì „
        const link = document.getElementById('random-recommend');
        const title = document.getElementById('random-title');
        if (link && title && randomPost) {
          link.href = '/posts/' + randomPost.slug;
          title.textContent = randomPost.title;
        }
        // ëª¨ë°”ì¼ ë²„ì „
        const mobileLink = document.getElementById('mobile-recommend');
        const mobileTitle = document.getElementById('mobile-recommend-title');
        if (mobileLink && mobileTitle && randomPost) {
          mobileLink.href = '/posts/' + randomPost.slug;
          mobileTitle.textContent = randomPost.title;
        }
      } catch (e) {}
    })();
  </script>

  <!-- ê²€ìƒ‰ ê¸°ëŠ¥ -->
  <script type="module">
    import Fuse from 'https://cdn.jsdelivr.net/npm/fuse.js@7.0.0/dist/fuse.mjs';

    let fuse = null;
    let searchData = null;

    async function initSearch() {
      if (searchData) return;
      const res = await fetch('/search.json');
      searchData = await res.json();
      fuse = new Fuse(searchData, {
        keys: ['title', 'description', 'category', 'tags'],
        threshold: 0.4,
        includeScore: true
      });
    }

    const searchInput = document.getElementById('search-input');
    const searchResults = document.getElementById('search-results');

    searchInput.addEventListener('focus', initSearch);

    searchInput.addEventListener('input', async (e) => {
      const query = e.target.value.trim();
      if (!query) {
        searchResults.innerHTML = '';
        searchResults.style.display = 'none';
        return;
      }

      await initSearch();
      const results = fuse.search(query).slice(0, 5);

      if (results.length === 0) {
        searchResults.innerHTML = '<div class="search-no-result">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</div>';
        searchResults.style.display = 'block';
        return;
      }

      searchResults.innerHTML = results.map(({ item }) => `
        <a href="/posts/${item.slug}" class="search-item">
          <img src="${item.image}" alt="${item.title}" />
          <div class="search-item-content">
            <span class="search-item-category">${item.category}</span>
            <span class="search-item-title">${item.title}</span>
          </div>
        </a>
      `).join('');
      searchResults.style.display = 'block';
    });

    document.addEventListener('click', (e) => {
      if (!e.target.closest('.search-container')) {
        searchResults.style.display = 'none';
      }
    });
  </script>

  <!-- ëª¨ë°”ì¼ ê²€ìƒ‰ ì˜¤ë²„ë ˆì´ ìŠ¤í¬ë¦½íŠ¸ -->
  <script type="module">
    import Fuse from 'https://cdn.jsdelivr.net/npm/fuse.js@7.0.0/dist/fuse.mjs';

    const mobileSearchIconBtn = document.getElementById('mobile-search-icon-btn');
    const mobileSearchOverlay = document.getElementById('mobile-search-overlay');
    const mobileSearchBackdrop = document.getElementById('mobile-search-backdrop');
    const mobileSearchCloseBtn = document.getElementById('mobile-search-close-btn');
    const mobileSearchInput = document.getElementById('mobile-search-input');
    const mobileSearchResults = document.getElementById('mobile-search-results');
    const mobileSearchTags = document.querySelectorAll('.mobile-search-tag');

    let fuse = null;
    let searchData = null;

    async function initMobileSearch() {
      if (searchData) return;
      const res = await fetch('/search.json');
      searchData = await res.json();
      fuse = new Fuse(searchData, {
        keys: ['title', 'description', 'category', 'tags'],
        threshold: 0.4,
        includeScore: true
      });
    }

    function openMobileSearch() {
      mobileSearchOverlay?.classList.add('show');
      mobileSearchBackdrop?.classList.add('show');
      mobileSearchInput?.focus();
      document.body.style.overflow = 'hidden';
    }

    function closeMobileSearch() {
      mobileSearchOverlay?.classList.remove('show');
      mobileSearchBackdrop?.classList.remove('show');
      if (mobileSearchInput) mobileSearchInput.value = '';
      if (mobileSearchResults) mobileSearchResults.innerHTML = '';
      document.body.style.overflow = '';
    }

    function performMobileSearch(query) {
      if (!query || !fuse) {
        if (mobileSearchResults) mobileSearchResults.innerHTML = '';
        return;
      }

      const results = fuse.search(query).slice(0, 8);

      if (results.length === 0) {
        mobileSearchResults.innerHTML = '<div style="padding: 20px; text-align: center; color: #888; font-size: 14px;">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</div>';
        return;
      }

      mobileSearchResults.innerHTML = results.map(({ item }) => `
        <a href="/posts/${item.slug}" class="mobile-search-result-item">
          <div class="mobile-search-result-title">${item.title}</div>
          <div class="mobile-search-result-desc">${item.description || ''}</div>
        </a>
      `).join('');
    }

    mobileSearchIconBtn?.addEventListener('click', () => {
      initMobileSearch();
      openMobileSearch();
    });

    mobileSearchCloseBtn?.addEventListener('click', closeMobileSearch);
    mobileSearchBackdrop?.addEventListener('click', closeMobileSearch);

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeMobileSearch();
    });

    mobileSearchInput?.addEventListener('input', (e) => {
      performMobileSearch(e.target.value.trim());
    });

    mobileSearchTags.forEach(tag => {
      tag.addEventListener('click', () => {
        const query = tag.dataset.query;
        if (mobileSearchInput) mobileSearchInput.value = query;
        performMobileSearch(query);
      });
    });
  </script>

  <!-- ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ ë§í¬ ë³€í™˜ ìŠ¤í¬ë¦½íŠ¸ -->
  <script>
    const COUPANG_PARTNER_ID = 'AF2391197';
    document.addEventListener('DOMContentLoaded', () => {
      const coupangLinks = document.querySelectorAll('a[href*="link.coupang.com"]');
      coupangLinks.forEach(link => {
        const linkText = link.textContent || '';
        const keyword = linkText.replace(/s*ë³´ëŸ¬ê°€ê¸°.*$/, '').trim();
        if (keyword) {
          const searchUrl = 'https://www.coupang.com/np/search?q=' + encodeURIComponent(keyword) + '&channel=user&sorter=scoreDesc&listSize=36&aid=' + COUPANG_PARTNER_ID;
          link.setAttribute('href', searchUrl);
          link.setAttribute('target', '_blank');
          link.setAttribute('rel', 'noopener noreferrer sponsored');
        }
      });
    });
  </script>

  <!-- 4.1 ì†Œì…œ ê³µìœ  ë²„íŠ¼ (í”Œë¡œíŒ…) -->
  <div class="share-floating" id="share-floating">
    <button class="share-btn kakao" id="share-kakao" title="ì¹´ì¹´ì˜¤í†¡ ê³µìœ ">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 3C6.5 3 2 6.58 2 11c0 2.83 1.82 5.32 4.56 6.72l-.96 3.56c-.08.3.24.54.5.38l4.08-2.72c.6.08 1.2.12 1.82.12 5.5 0 10-3.58 10-8s-4.5-8-10-8z"/>
      </svg>
    </button>
    <button class="share-btn twitter" id="share-twitter" title="X ê³µìœ ">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
      </svg>
    </button>
    <button class="share-btn facebook" id="share-facebook" title="í˜ì´ìŠ¤ë¶ ê³µìœ ">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
      </svg>
    </button>
    <button class="share-btn copy" id="share-copy" title="ë§í¬ ë³µì‚¬">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/>
        <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>
      </svg>
    </button>
  </div>

  <!-- 4.2 ë§¨ ìœ„ë¡œ ë²„íŠ¼ -->
  <button class="scroll-top" id="scroll-top" title="ë§¨ ìœ„ë¡œ">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
      <path d="M18 15l-6-6-6 6"/>
    </svg>
  </button>

  <!-- ëª¨ë°”ì¼ ì „ìš© í•˜ë‹¨ ë°” -->
  <div class="mobile-bottom-bar" id="mobile-bottom-bar">
    <button class="mobile-share-btn" id="mobile-share-btn">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/>
        <polyline points="16 6 12 2 8 6"/>
        <line x1="12" y1="2" x2="12" y2="15"/>
      </svg>
      ê³µìœ í•˜ê¸°
    </button>
    <button class="mobile-icon-btn" id="mobile-bookmark-btn" title="ë¶ë§ˆí¬">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/>
      </svg>
    </button>
    <button class="mobile-icon-btn" id="mobile-scroll-top-btn" title="ë§¨ ìœ„ë¡œ">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M18 15l-6-6-6 6"/>
      </svg>
    </button>
  </div>

  <!-- í† ìŠ¤íŠ¸ ì•Œë¦¼ -->
  <div class="toast-notification" id="toast-notification"></div>

  <!-- ì†Œì…œ ê³µìœ  & ìŠ¤í¬ë¡¤ ìŠ¤í¬ë¦½íŠ¸ -->
  <script>
    // ë§¨ ìœ„ë¡œ ë²„íŠ¼
    const scrollTopBtn = document.getElementById('scroll-top');

    window.addEventListener('scroll', () => {
      if (window.scrollY > 300) {
        scrollTopBtn.classList.add('visible');
      } else {
        scrollTopBtn.classList.remove('visible');
      }
    });

    scrollTopBtn.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // ì†Œì…œ ê³µìœ 
    const shareUrl = window.location.href;
    const shareTitle = document.title;

    // X (Twitter)
    document.getElementById('share-twitter').addEventListener('click', () => {
      window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(shareUrl)}&text=${encodeURIComponent(shareTitle)}`, '_blank', 'width=600,height=400');
    });

    // Facebook
    document.getElementById('share-facebook').addEventListener('click', () => {
      window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}`, '_blank', 'width=600,height=400');
    });

    // ë§í¬ ë³µì‚¬
    document.getElementById('share-copy').addEventListener('click', async () => {
      try {
        await navigator.clipboard.writeText(shareUrl);
        const btn = document.getElementById('share-copy');
        btn.classList.add('copied');
        setTimeout(() => btn.classList.remove('copied'), 2000);
      } catch (e) {
        alert('ë§í¬ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
      }
    });

    // ì¹´ì¹´ì˜¤í†¡ ê³µìœ 
    if (window.Kakao && !Kakao.isInitialized()) {
      Kakao.init('25afa0ad4ddbd574de6d4f473d8af79a');
    }
    document.getElementById('share-kakao').addEventListener('click', () => {
      if (window.Kakao) {
        Kakao.Share.sendDefault({
          objectType: 'feed',
          content: {
            title: shareTitle,
            description: document.querySelector('meta[name="description"]')?.content || 'ë§›ìˆê²Œ ë¨¹ê³ , ë‚ ì”¬í•˜ê²Œ ì‚¬ëŠ” ë¹„ë°€',
            imageUrl: document.querySelector('meta[property="og:image"]')?.content || 'https://slimhanki-blog.pages.dev/og-default.jpg',
            link: { mobileWebUrl: shareUrl, webUrl: shareUrl },
          },
          buttons: [{ title: 'ìì„¸íˆ ë³´ê¸°', link: { mobileWebUrl: shareUrl, webUrl: shareUrl } }],
        });
      }
    });

    // ==================== ëª¨ë°”ì¼ í•˜ë‹¨ ë°” ìŠ¤í¬ë¦½íŠ¸ ====================
    const mobileShareBtn = document.getElementById('mobile-share-btn');
    const mobileBookmarkBtn = document.getElementById('mobile-bookmark-btn');
    const mobileScrollTopBtn = document.getElementById('mobile-scroll-top-btn');
    const toastNotification = document.getElementById('toast-notification');

    function showToast(message) {
      toastNotification.textContent = message;
      toastNotification.classList.add('show');
      setTimeout(() => toastNotification.classList.remove('show'), 2000);
    }

    // ëª¨ë°”ì¼ ê³µìœ  ë²„íŠ¼ (Web Share API)
    mobileShareBtn?.addEventListener('click', async () => {
      const shareData = {
        title: shareTitle,
        text: document.querySelector('meta[name="description"]')?.content || '',
        url: shareUrl
      };
      if (navigator.share) {
        try {
          await navigator.share(shareData);
        } catch (err) {}
      } else {
        try {
          await navigator.clipboard.writeText(shareUrl);
          showToast('ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤');
        } catch (err) {
          showToast('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
        }
      }
    });

    // ëª¨ë°”ì¼ ë¶ë§ˆí¬ ë²„íŠ¼
    mobileBookmarkBtn?.addEventListener('click', function() {
      this.classList.toggle('active');
      showToast(this.classList.contains('active') ? 'ë¶ë§ˆí¬ì— ì €ì¥ë¨' : 'ë¶ë§ˆí¬ í•´ì œë¨');
    });

    // ëª¨ë°”ì¼ ë§¨ ìœ„ë¡œ ë²„íŠ¼
    mobileScrollTopBtn?.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  </script>

  <footer class="footer">
    <div class="footer-inner">
      <div class="footer-top">
        <div class="footer-brand">
          <a href="/" class="logo">
            <div class="logo-mark"></div>
            <div class="logo-text">
              <span class="logo-title">ìŠ¬ë¦¼í•œë¼</span>
            </div>
          </a>
          <p>ë§›ìˆê²Œ ë¨¹ê³ , ë‚ ì”¬í•˜ê²Œ ì‚¬ëŠ” ë¹„ë°€. ì €ì¹¼ë¡œë¦¬ ë ˆì‹œí”¼ì™€ ë‹¤ì´ì–´íŠ¸ ì‹ë‹¨ ì •ë³´ë¥¼ ê³µìœ í•©ë‹ˆë‹¤.</p>
        </div>
        <div class="footer-links">
          <h5>ì¹´í…Œê³ ë¦¬</h5>
          <ul>
            <li><a href="/category/low-cal">ì €ì¹¼ë¡œë¦¬ ë ˆì‹œí”¼</a></li>
            <li><a href="/category/k-diet">K-ë‹¤ì´ì–´íŠ¸</a></li>
            <li><a href="/category/protein">ë‹¨ë°±ì§ˆ ì‹ë‹¨</a></li>
            <li><a href="/category/quick">ê°„í¸ì‹</a></li>
            <li><a href="/category/mealprep">ë°€í”„ë ™</a></li>
            <li><a href="/category/diet-tips">ë‹¤ì´ì–´íŠ¸ ë°©ë²•</a></li>
          </ul>
        </div>
        <div class="footer-links">
          <h5>ì •ë³´</h5>
          <ul>
            <li><a href="/about">ì†Œê°œ</a></li>
            <li><a href="/contact">ë¬¸ì˜</a></li>
            <li><a href="/privacy">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a></li>
          </ul>
        </div>
        <div class="footer-links">
          <h5>íŒŒíŠ¸ë„ˆ</h5>
          <ul>
            <li><a href="/contact">ê´‘ê³  ë¬¸ì˜</a></li>
            <li><a href="/contact">ì œíœ´ ë¬¸ì˜</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2026 ìŠ¬ë¦¼í•œë¼. All rights reserved.</p>
      </div>
    </div>
  </footer>
</body>
</html>

<style is:global>
  :root {
    --bg-primary: #FAFAF8;
    --bg-secondary: #F5F4F1;
    --bg-card: #FFFFFF;
    --text-primary: #1A1A1A;
    --text-secondary: #6B6B6B;
    --text-tertiary: #999999;
    --point: #2C2C2C;
    --accent: #A08060;
    --accent-light: #C4A882;
    --border: #E8E6E3;
    --border-light: #F0EEEB;
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
    background: var(--bg-primary);
    color: var(--text-primary);
    line-height: 1.7;
    letter-spacing: -0.02em;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  main {
    flex: 1;
  }

  a {
    color: inherit;
    text-decoration: none;
  }

  img {
    max-width: 100%;
    height: auto;
  }

  /* ==================== HEADER ==================== */
  .header {
    background: var(--bg-card);
    border-bottom: 1px solid var(--border);
    position: sticky;
    top: 0;
    z-index: 100;
  }

  .header-top {
    background: var(--text-primary);
    padding: 12px 24px;
  }

  .header-top-inner {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .header-top a {
    color: #ccc;
    font-size: 0.85rem;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: color 0.2s;
  }

  .header-top a:hover {
    color: #fff;
  }

  .header-top .label {
    color: var(--accent);
    font-weight: 500;
  }

  .header-top .arrow {
    color: #666;
  }

  .header-top .title {
    max-width: 400px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .header-main {
    max-width: 1200px;
    margin: 0 auto;
    padding: 24px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  /* Logo */
  .logo {
    display: flex;
    align-items: center;
    gap: 14px;
  }

  .logo-mark {
    width: 48px;
    height: 48px;
    background: var(--text-primary);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .logo-mark::after {
    content: '';
    width: 20px;
    height: 20px;
    border: 2px solid var(--accent);
    border-radius: 50%;
  }

  .logo-text {
    display: flex;
    flex-direction: column;
  }

  .logo-title {
    font-size: 1.3rem;
    font-weight: 700;
    letter-spacing: -0.03em;
    color: var(--text-primary);
  }

  .logo-subtitle {
    font-size: 0.75rem;
    color: var(--text-tertiary);
    letter-spacing: 0.1em;
    text-transform: uppercase;
  }

  /* Search */
  .search-box {
    display: flex;
    align-items: center;
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 12px 18px;
    width: 280px;
    transition: border-color 0.2s, box-shadow 0.2s;
  }

  .search-box:focus-within {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(160, 128, 96, 0.1);
  }

  .search-box input {
    border: none;
    background: none;
    outline: none;
    flex: 1;
    font-size: 0.9rem;
    color: var(--text-primary);
  }

  .search-box input::placeholder {
    color: var(--text-tertiary);
  }

  .search-icon {
    color: var(--text-tertiary);
    font-size: 1rem;
  }

  /* Search Container */
  .search-container {
    position: relative;
  }

  .search-results {
    display: none;
    position: absolute;
    top: 100%;
    right: 0;
    width: 360px;
    max-height: 400px;
    overflow-y: auto;
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 12px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.12);
    margin-top: 8px;
    z-index: 1000;
  }

  .search-item {
    display: flex;
    gap: 12px;
    padding: 12px 16px;
    border-bottom: 1px solid var(--border-light);
    transition: background 0.2s;
  }

  .search-item:last-child {
    border-bottom: none;
  }

  .search-item:hover {
    background: var(--bg-secondary);
  }

  .search-item img {
    width: 60px;
    height: 45px;
    object-fit: cover;
    border-radius: 6px;
    flex-shrink: 0;
  }

  .search-item-content {
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 4px;
    min-width: 0;
  }

  .search-item-category {
    font-size: 0.7rem;
    color: var(--accent);
    font-weight: 500;
  }

  .search-item-title {
    font-size: 0.85rem;
    font-weight: 500;
    color: var(--text-primary);
    line-height: 1.4;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .search-no-result {
    padding: 24px;
    text-align: center;
    color: var(--text-tertiary);
    font-size: 0.9rem;
  }

  /* ëª¨ë°”ì¼ ê²€ìƒ‰ ì•„ì´ì½˜ ë²„íŠ¼ - ê¸°ë³¸ ìˆ¨ê¹€ */
  .mobile-search-icon-btn {
    display: none;
    width: 40px;
    height: 40px;
    background: #f5f5f5;
    border: none;
    border-radius: 10px;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background 0.2s;
  }

  .mobile-search-icon-btn:active {
    background: #eee;
  }

  .mobile-search-icon-btn svg {
    width: 20px;
    height: 20px;
    color: #666;
  }

  /* ëª¨ë°”ì¼ ê²€ìƒ‰ ì˜¤ë²„ë ˆì´ */
  .mobile-search-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: #fff;
    z-index: 2000;
    padding: 12px 16px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
  }

  .mobile-search-overlay.show {
    display: block;
    animation: mobileSearchSlideDown 0.2s ease-out;
  }

  @keyframes mobileSearchSlideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .mobile-search-overlay-inner {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .mobile-search-input-wrapper {
    flex: 1;
    position: relative;
  }

  .mobile-search-input {
    width: 100%;
    padding: 12px 16px;
    padding-right: 40px;
    border: 2px solid var(--accent);
    border-radius: 10px;
    font-size: 15px;
    outline: none;
    background: #FAFAF8;
  }

  .mobile-search-input::placeholder {
    color: #999;
  }

  .mobile-search-input-icon {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--accent);
  }

  .mobile-search-close-btn {
    width: 40px;
    height: 40px;
    background: #f5f5f5;
    border: none;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    flex-shrink: 0;
  }

  .mobile-search-close-btn:active {
    background: #eee;
  }

  .mobile-search-close-btn svg {
    width: 20px;
    height: 20px;
    color: #666;
  }

  /* ì¸ê¸° ê²€ìƒ‰ì–´ íƒœê·¸ */
  .mobile-search-tags {
    margin-top: 12px;
    padding-bottom: 12px;
    border-bottom: 1px solid #eee;
  }

  .mobile-search-tags-label {
    font-size: 12px;
    color: #888;
    margin-bottom: 8px;
    display: block;
  }

  .mobile-search-tags-list {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
  }

  .mobile-search-tag {
    background: #f5f5f5;
    border: none;
    padding: 6px 12px;
    border-radius: 16px;
    font-size: 13px;
    color: #555;
    cursor: pointer;
    transition: all 0.2s;
  }

  .mobile-search-tag:active {
    background: var(--accent);
    color: #fff;
  }

  /* ëª¨ë°”ì¼ ê²€ìƒ‰ ê²°ê³¼ */
  .mobile-search-results {
    max-height: 50vh;
    overflow-y: auto;
  }

  .mobile-search-result-item {
    display: block;
    padding: 12px 0;
    border-bottom: 1px solid #eee;
    text-decoration: none;
  }

  .mobile-search-result-item:last-child {
    border-bottom: none;
  }

  .mobile-search-result-title {
    font-size: 14px;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 4px;
  }

  .mobile-search-result-desc {
    font-size: 12px;
    color: #888;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  /* ì˜¤ë²„ë ˆì´ ë°°ê²½ */
  .mobile-search-backdrop {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.3);
    z-index: 1999;
  }

  .mobile-search-backdrop.show {
    display: block;
  }

  /* Navigation */
  .nav-bar {
    background: var(--bg-card);
    border-bottom: 1px solid var(--border);
  }

  .nav-inner {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 24px;
    display: flex;
    gap: 8px;
  }

  .nav-item {
    padding: 16px 20px;
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--text-secondary);
    border-bottom: 2px solid transparent;
    transition: all 0.2s;
  }

  .nav-item:hover {
    color: var(--text-primary);
  }

  .nav-item.active {
    color: var(--text-primary);
    border-bottom-color: var(--accent);
  }

  /* ==================== FOOTER ==================== */
  .footer {
    background: var(--text-primary);
    color: var(--text-tertiary);
    padding: 64px 24px 32px;
    margin-top: auto;
  }

  .footer-inner {
    max-width: 1200px;
    margin: 0 auto;
  }

  .footer-top {
    display: grid;
    grid-template-columns: 1.5fr 1fr 1fr 1fr;
    gap: 48px;
    padding-bottom: 48px;
    border-bottom: 1px solid rgba(255,255,255,0.1);
  }

  .footer-brand .logo {
    margin-bottom: 20px;
  }

  .footer-brand .logo-mark {
    background: #3a3a3a;
  }

  .footer-brand .logo-title {
    color: #fff;
  }

  .footer-brand p {
    font-size: 0.9rem;
    line-height: 1.7;
    color: var(--text-tertiary);
  }

  .footer-social {
    display: flex;
    gap: 12px;
    margin-top: 24px;
  }

  .footer-social a {
    width: 42px;
    height: 42px;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.1rem;
    transition: all 0.2s;
  }

  .footer-social a:hover {
    background: var(--accent);
    border-color: var(--accent);
  }

  .footer-links h5 {
    font-size: 0.9rem;
    font-weight: 600;
    color: #fff;
    margin-bottom: 20px;
  }

  .footer-links ul {
    list-style: none;
  }

  .footer-links li {
    margin-bottom: 12px;
  }

  .footer-links a {
    font-size: 0.85rem;
    color: var(--text-tertiary);
    transition: color 0.2s;
  }

  .footer-links a:hover {
    color: var(--accent-light);
  }

  .footer-bottom {
    padding-top: 32px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 0.8rem;
  }

  .footer-bottom .legal {
    color: var(--text-tertiary);
  }

  /* ==================== ëª¨ë°”ì¼ ì „ìš© ìš”ì†Œ (ë°ìŠ¤í¬í†±ì—ì„œ ìˆ¨ê¹€) ==================== */
  .mobile-recommend {
    display: none;
  }

  .mobile-bottom-bar {
    display: none;
  }

  .toast-notification {
    position: fixed;
    bottom: 100px;
    left: 50%;
    transform: translateX(-50%);
    background: #333;
    color: #fff;
    padding: 12px 24px;
    border-radius: 8px;
    font-size: 14px;
    opacity: 0;
    transition: opacity 0.3s;
    z-index: 200;
    pointer-events: none;
  }

  .toast-notification.show {
    opacity: 1;
  }

  /* ==================== ì†Œì…œ ê³µìœ  ë²„íŠ¼ ==================== */
  .share-floating {
    position: fixed;
    left: 20px;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    gap: 8px;
    z-index: 90;
  }

  .share-btn {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.2s, box-shadow 0.2s;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }

  .share-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 4px 16px rgba(0,0,0,0.15);
  }

  .share-btn svg {
    width: 20px;
    height: 20px;
  }

  .share-btn.kakao {
    background: #FEE500;
    color: #3C1E1E;
  }

  .share-btn.twitter {
    background: #000000;
    color: white;
  }

  .share-btn.facebook {
    background: #1877F2;
    color: white;
  }

  .share-btn.copy {
    background: var(--bg-secondary);
    color: var(--text-primary);
    border: 1px solid var(--border);
  }

  .share-btn.copy.copied {
    background: var(--accent);
    color: white;
    border-color: var(--accent);
  }

  /* ==================== ë§¨ ìœ„ë¡œ ë²„íŠ¼ ==================== */
  .scroll-top {
    position: fixed;
    right: 24px;
    bottom: 24px;
    width: 48px;
    height: 48px;
    background: var(--accent);
    color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px rgba(160, 128, 96, 0.3);
    transition: transform 0.2s, box-shadow 0.2s, opacity 0.3s;
    z-index: 90;
    opacity: 0;
    pointer-events: none;
  }

  .scroll-top.visible {
    opacity: 1;
    pointer-events: auto;
  }

  .scroll-top:hover {
    transform: translateY(-4px);
    box-shadow: 0 6px 20px rgba(160, 128, 96, 0.4);
  }

  .scroll-top svg {
    width: 24px;
    height: 24px;
  }

  /* ==================== RESPONSIVE ==================== */
  @media (max-width: 1024px) {
    .footer-top {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 768px) {
    /* í—¤ë” ìƒë‹¨ ì¶”ì²œë°” - ëª¨ë°”ì¼ì—ì„œ ìˆ¨ê¹€ */
    .header-top {
      display: none;
    }

    .header-main {
      flex-direction: row;
      justify-content: space-between;
      align-items: center;
      padding: 12px 16px;
    }

    /* ëª¨ë°”ì¼ì—ì„œ ê²€ìƒ‰ì°½ ìˆ¨ê¹€ */
    .search-container {
      display: none;
    }

    /* ëª¨ë°”ì¼ ê²€ìƒ‰ ì•„ì´ì½˜ ë²„íŠ¼ í‘œì‹œ */
    .mobile-search-icon-btn {
      display: flex;
    }

    /* ë„¤ë¹„ê²Œì´ì…˜ - ê°€ë¡œ ìŠ¤í¬ë¡¤ */
    .nav-inner {
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }

    .nav-inner::-webkit-scrollbar {
      display: none;
    }

    .nav-item {
      white-space: nowrap;
      flex-shrink: 0;
    }

    .footer-top {
      grid-template-columns: 1fr;
    }

    .footer-bottom {
      flex-direction: column;
      gap: 16px;
      text-align: center;
    }

    /* ëª¨ë°”ì¼ì—ì„œ ì†Œì…œ ê³µìœ  ë²„íŠ¼ ìˆ¨ê¹€ */
    .share-floating {
      display: none;
    }

    /* ëª¨ë°”ì¼ì—ì„œ ê¸°ì¡´ ë§¨ ìœ„ë¡œ ë²„íŠ¼ ìˆ¨ê¹€ */
    .scroll-top {
      display: none;
    }

    /* ==================== ëª¨ë°”ì¼ ì¶”ì²œ ë°°ë„ˆ (ë²„ì „ B) ==================== */
    .mobile-recommend {
      display: flex;
      align-items: center;
      gap: 8px;
      background: #FFF8E7;
      border-bottom: 1px solid #F0E6D3;
      padding: 10px 16px;
      text-decoration: none;
    }

    .mobile-recommend-badge {
      background: #A08060;
      color: #fff;
      font-size: 11px;
      font-weight: 600;
      padding: 4px 10px;
      border-radius: 4px;
      white-space: nowrap;
    }

    .mobile-recommend-title {
      color: #5C4A32;
      font-size: 13px;
      font-weight: 500;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      flex: 1;
    }

    .mobile-recommend-arrow {
      color: #A08060;
      font-size: 16px;
      font-weight: 600;
    }

    /* ==================== ëª¨ë°”ì¼ í•˜ë‹¨ ë°” ==================== */
    .mobile-bottom-bar {
      display: flex;
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: #fff;
      border-top: 1px solid #eee;
      padding: 10px 16px;
      padding-bottom: calc(10px + env(safe-area-inset-bottom));
      gap: 8px;
      z-index: 100;
      box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
    }

    .mobile-share-btn {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      background: #A08060;
      color: #fff;
      border: none;
      padding: 14px;
      border-radius: 10px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }

    .mobile-share-btn:active {
      transform: scale(0.98);
      background: #8B6914;
    }

    .mobile-share-btn svg {
      width: 18px;
      height: 18px;
    }

    .mobile-icon-btn {
      width: 50px;
      height: 50px;
      background: #f5f5f5;
      border: none;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s;
    }

    .mobile-icon-btn:active {
      background: #eee;
    }

    .mobile-icon-btn svg {
      width: 22px;
      height: 22px;
      color: #666;
    }

    .mobile-icon-btn.active svg {
      color: #A08060;
      fill: #A08060;
    }

    /* ëª¨ë°”ì¼ì—ì„œ ë³¸ë¬¸ í•˜ë‹¨ ì—¬ë°± (í•˜ë‹¨ ë°” ê³µê°„ í™•ë³´) */
    main {
      padding-bottom: 80px;
    }

    /* í† ìŠ¤íŠ¸ ìœ„ì¹˜ ì¡°ì • */
    .toast-notification {
      bottom: 90px;
    }
  }
</style>
